
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../transports/">
      
      
        <link rel="next" href="../scene_management/">
      
      
      <link rel="icon" href="../img/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.18">
    
    
      
        <title>Creating Custom Behaviours - NetBuff</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.66ac8b77.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/style.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#creating-custom-behaviours" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="NetBuff" class="md-header__button md-logo" aria-label="NetBuff" data-md-component="logo">
      
  <img src="../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NetBuff
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Creating Custom Behaviours
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="NetBuff" class="md-nav__button md-logo" aria-label="NetBuff" data-md-component="logo">
      
  <img src="../img/logo.png" alt="logo">

    </a>
    NetBuff
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Components
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../transports/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Network Transport
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Creating Custom Behaviours
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Creating Custom Behaviours
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#custom-serialization" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Serialization
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-packets" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Packets
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Custom Packets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sending-packets" class="md-nav__link">
    <span class="md-ellipsis">
      Sending Packets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#receiving-owned-packets" class="md-nav__link">
    <span class="md-ellipsis">
      Receiving Owned Packets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#receiving-not-owned" class="md-nav__link">
    <span class="md-ellipsis">
      Receiving Not Owned
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#packet-reliability" class="md-nav__link">
    <span class="md-ellipsis">
      Packet Reliability
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#network-callbacks" class="md-nav__link">
    <span class="md-ellipsis">
      Network Callbacks
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../scene_management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scene Management
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../object_spawning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spawning Objects
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../custom_network_manager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Network Manager
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../managing_sessions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Managing Sessions
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../discoverer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Server Discoverer
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../reconnection_and_hot_reload/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reconnection and Hot-Reload
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../network_testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing the Network
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../samples/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Samples
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Common Troubleshooting
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#custom-serialization" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Serialization
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-packets" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Packets
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Custom Packets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sending-packets" class="md-nav__link">
    <span class="md-ellipsis">
      Sending Packets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#receiving-owned-packets" class="md-nav__link">
    <span class="md-ellipsis">
      Receiving Owned Packets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#receiving-not-owned" class="md-nav__link">
    <span class="md-ellipsis">
      Receiving Not Owned
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#packet-reliability" class="md-nav__link">
    <span class="md-ellipsis">
      Packet Reliability
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#network-callbacks" class="md-nav__link">
    <span class="md-ellipsis">
      Network Callbacks
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="creating-custom-behaviours">Creating Custom Behaviours</h1>
<p>To implement the logic of your project, you'll need to implement your own <a href="/api_reference/#networkbehaviour">NetworkBehaviours</a>. Below you can find the basic structure of a <a class="api-docs">NetworkBehaviour</a> and its components:</p>
<div class="language-csharp highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-0-1"><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">CustomNetworkBehaviour</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">NetworkBehaviour</span>
</span><span id="__span-0-2"><span class="p">{</span>
</span><span id="__span-0-3"><span class="w">    </span><span class="c1">//My Fields</span>
</span><span id="__span-0-4"><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">walkSpeed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3f</span><span class="p">;</span>
</span><span id="__span-0-5">
</span><span id="__span-0-6"><span class="w">    </span><span class="c1">//My Network Values</span>
</span><span id="__span-0-7"><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">IntNetworkValue</span><span class="w"> </span><span class="n">team</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IntNetworkValue</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>
</span><span id="__span-0-8">
</span><span id="__span-0-9"><span class="w">    </span><span class="c1">//Unity callbacks</span>
</span><span id="__span-0-10"><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">OnEnable</span><span class="p">(){}</span>
</span><span id="__span-0-11">
</span><span id="__span-0-12"><span class="w">    </span><span class="c1">//Network callbacks</span>
</span><span id="__span-0-13"><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">OnSpawned</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">isRetroactive</span><span class="p">){}</span>
</span><span id="__span-0-14"><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>A <a class="api-docs">NetworkBehaviour</a> works exactly like a normal MonoBehaviour while also providing state synchronization over the network.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>It's not possible to remove and/or add a <a class="api-docs">NetworkBehaviour</a> in real-time.</p>
</div>
<h2 id="custom-serialization">Custom Serialization</h2>
<p>If your <a class="api-docs">NetworkBehaviour</a> has a state that's too complex to synchronize using only <a class="api-docs">NetworkValue</a>, you can use custom serialization. Simply implement the <a class="api-docs">INetworkBehaviourSerializer</a> interface in your <a class="api-docs">NetworkBehaviour</a>:</p>
<div class="language-csharp highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-1-1"><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">CustomNetworkBehaviour</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">NetworkBehaviour</span><span class="p">,</span><span class="w"> </span><span class="n">INetworkBehaviourSerializer</span>
</span><span id="__span-1-2"><span class="p">{</span>
</span><span id="__span-1-3"><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">float</span><span class="p">[]</span><span class="w"> </span><span class="n">valueTooComplex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="p">[</span><span class="m">0</span><span class="p">];</span>
</span><span id="__span-1-4">
</span><span id="__span-1-5"><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">OnSerialize</span><span class="p">(</span><span class="n">BinaryWriter</span><span class="w"> </span><span class="n">writer</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">forceSendAll</span><span class="p">)</span>
</span><span id="__span-1-6"><span class="w">    </span><span class="p">{</span>
</span><span id="__span-1-7"><span class="w">        </span><span class="n">writer</span><span class="p">.</span><span class="n">Write</span><span class="p">(</span><span class="n">valueTooComplex</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>
</span><span id="__span-1-8"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">var</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">valueTooComplex</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span><span id="__span-1-9"><span class="w">        </span><span class="p">{</span>
</span><span id="__span-1-10"><span class="w">            </span><span class="n">writer</span><span class="p">.</span><span class="n">Write</span><span class="p">(</span><span class="n">valueTooComplex</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span><span id="__span-1-11"><span class="w">        </span><span class="p">}</span><span class="w">   </span>
</span><span id="__span-1-12"><span class="w">    </span><span class="p">}</span>
</span><span id="__span-1-13">
</span><span id="__span-1-14"><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">OnDeserialize</span><span class="p">(</span><span class="n">BinaryReader</span><span class="w"> </span><span class="n">reader</span><span class="p">)</span>
</span><span id="__span-1-15"><span class="w">    </span><span class="p">{</span>
</span><span id="__span-1-16"><span class="w">        </span><span class="kt">var</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">reader</span><span class="p">.</span><span class="n">ReadInt32</span><span class="p">();</span>
</span><span id="__span-1-17"><span class="w">        </span><span class="n">valueTooComplex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="p">[</span><span class="n">length</span><span class="p">];</span>
</span><span id="__span-1-18"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">var</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span><span id="__span-1-19"><span class="w">        </span><span class="p">{</span>
</span><span id="__span-1-20"><span class="w">            </span><span class="n">valueTooComplex</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">reader</span><span class="p">.</span><span class="n">ReadSingle</span><span class="p">();</span>
</span><span id="__span-1-21"><span class="w">        </span><span class="p">}</span>
</span><span id="__span-1-22"><span class="w">    </span><span class="p">}</span>
</span><span id="__span-1-23"><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<p>By doing this, all data will be synchronized over the network (even if someone connects later). If the data is too complex (like that of <a class="api-docs">NetworkTransform</a>), you can implement a system to update only the necessary data, and when the <strong>forceSendAll</strong> parameter is true, all data must be synchronized. This parameter will only be true when a client connects later.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>These values are not re-updated automatically. You should use the <a class="api-docs">NetworkBehaviour.MarkSerializerDirty</a> method to trigger serialization and, consequently, deserialization (with forceSendAll = false).</p>
</div>
<h2 id="custom-packets">Custom Packets</h2>
<p>The third (and most optimized) method to synchronize custom data is by creating packets. Internally, both of the other two methods use packets to synchronize data, and even the basic functioning of the network is based on packets.</p>
<p>The packet-based system was chosen as the main transfer method for <b class="netbuff">NetBuff</b> because it's lightweight, fast, and highly customizable. To create a custom packet, you need to create a class that implements the <a class="api-docs">IPacket</a> or <a class="api-docs">IOwnedPacket</a> interface:</p>
<div class="language-csharp highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-2-1"><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">PlayerPunchActionPacket</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IPacket</span>
</span><span id="__span-2-2"><span class="p">{</span>
</span><span id="__span-2-3"><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">NetworkId</span><span class="w"> </span><span class="n">Id</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-2-4">
</span><span id="__span-2-5"><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Serialize</span><span class="p">(</span><span class="n">BinaryWriter</span><span class="w"> </span><span class="n">writer</span><span class="p">)</span>
</span><span id="__span-2-6"><span class="w">    </span><span class="p">{</span>
</span><span id="__span-2-7"><span class="w">        </span><span class="n">Id</span><span class="p">.</span><span class="n">Serialize</span><span class="p">(</span><span class="n">writer</span><span class="p">);</span>
</span><span id="__span-2-8"><span class="w">    </span><span class="p">}</span>
</span><span id="__span-2-9">
</span><span id="__span-2-10"><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Deserialize</span><span class="p">(</span><span class="n">BinaryReader</span><span class="w"> </span><span class="n">reader</span><span class="p">)</span>
</span><span id="__span-2-11"><span class="w">    </span><span class="p">{</span>
</span><span id="__span-2-12"><span class="w">        </span><span class="n">Id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NetworkId</span><span class="p">.</span><span class="n">Read</span><span class="p">(</span><span class="n">reader</span><span class="p">);</span>
</span><span id="__span-2-13"><span class="w">    </span><span class="p">}</span>
</span><span id="__span-2-14"><span class="p">}</span>
</span><span id="__span-2-15">
</span><span id="__span-2-16"><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">PacketBodyRotation</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IOwnedPacket</span>
</span><span id="__span-2-17"><span class="p">{</span>
</span><span id="__span-2-18"><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">NetworkId</span><span class="w"> </span><span class="n">Id</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-2-19"><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">BodyRotation</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-2-20">
</span><span id="__span-2-21"><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Serialize</span><span class="p">(</span><span class="n">BinaryWriter</span><span class="w"> </span><span class="n">writer</span><span class="p">)</span>
</span><span id="__span-2-22"><span class="w">    </span><span class="p">{</span>
</span><span id="__span-2-23"><span class="w">        </span><span class="n">Id</span><span class="p">.</span><span class="n">Serialize</span><span class="p">(</span><span class="n">writer</span><span class="p">);</span>
</span><span id="__span-2-24"><span class="w">        </span><span class="n">writer</span><span class="p">.</span><span class="n">Write</span><span class="p">(</span><span class="n">BodyRotation</span><span class="p">);</span>
</span><span id="__span-2-25"><span class="w">    </span><span class="p">}</span>
</span><span id="__span-2-26">
</span><span id="__span-2-27"><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Deserialize</span><span class="p">(</span><span class="n">BinaryReader</span><span class="w"> </span><span class="n">reader</span><span class="p">)</span>
</span><span id="__span-2-28"><span class="w">    </span><span class="p">{</span>
</span><span id="__span-2-29"><span class="w">        </span><span class="n">Id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NetworkId</span><span class="p">.</span><span class="n">Read</span><span class="p">(</span><span class="n">reader</span><span class="p">);</span>
</span><span id="__span-2-30"><span class="w">        </span><span class="n">BodyRotation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">reader</span><span class="p">.</span><span class="n">ReadSingle</span><span class="p">();</span>
</span><span id="__span-2-31"><span class="w">    </span><span class="p">}</span>
</span><span id="__span-2-32"><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<p>A <a class="api-docs">IOwnedPacket</a> is an <a class="api-docs">IPacket</a> that is directly linked to a <a class="api-docs">NetworkIdentity</a>, therefore, they will be internally sent by a <a class="api-docs">NetworkBehaviour</a>, and the server will find the same <a class="api-docs">NetworkBehaviour</a> in other network points and call the receiving callback.</p>
<p>A normal <a class="api-docs">IPacket</a> is not directly linked to anything, so they will simply be sent over the network, and all handling must be done manually.</p>
<h3 id="sending-packets">Sending Packets</h3>
<p>To send a packet, simply use the <a class="api-docs">NetworkBehaviour.SendPacket</a> method, which will send the packet using the correct method automatically:</p>
<div class="language-csharp highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-3-1"><span class="kt">var</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PacketBodyRotation</span>
</span><span id="__span-3-2"><span class="p">{</span>
</span><span id="__span-3-3"><span class="w">    </span><span class="n">Id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Id</span><span class="p">,</span>
</span><span id="__span-3-4"><span class="w">    </span><span class="n">BodyRotation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">body</span><span class="p">.</span><span class="n">localEulerAngles</span><span class="p">.</span><span class="n">y</span>
</span><span id="__span-3-5"><span class="p">};</span>
</span><span id="__span-3-6"><span class="n">SendPacket</span><span class="p">(</span><span class="n">packet</span><span class="p">);</span>
</span></code></pre></div></td></tr></table></div>
<p>Internally, the system automatically chooses between the <a class="api-docs">NetworkBehaviour.ClientSendPacket</a> and <a class="api-docs">NetworkBehaviour.ServerBroadcastPacket</a> methods depending on whether the local environment is a client or server:</p>
<div class="language-csharp highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-4-1"><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">IsOwnedByClient</span><span class="p">)</span>
</span><span id="__span-4-2"><span class="w">    </span><span class="n">ClientSendPacket</span><span class="p">(</span><span class="n">packet</span><span class="p">,</span><span class="w"> </span><span class="n">reliable</span><span class="p">);</span><span class="w"> </span><span class="c1">//Client sends a message to the server</span>
</span><span id="__span-4-3"><span class="k">else</span>
</span><span id="__span-4-4"><span class="w">    </span><span class="nf">ServerBroadcastPacket</span><span class="p">(</span><span class="n">packet</span><span class="p">,</span><span class="w"> </span><span class="n">reliable</span><span class="p">);</span><span class="w"> </span><span class="c1">//Server broadcast a message to all the clients</span>
</span></code></pre></div></td></tr></table></div>
<p>The server can also use the <a class="api-docs">NetworkBehaviour.ServerSendPacket</a> method to send a packet to a single client or the <a class="api-docs">NetworkBehaviour.ServerBroadcastPacketExceptFor</a> method to send to all clients except one.</p>
<h3 id="receiving-owned-packets">Receiving Owned Packets</h3>
<p>To receive <a class="api-docs">IOwnedPackets</a>, you can use the <a class="api-docs">NetworkBehaviour.OnServerReceivePacket</a> and <a class="api-docs">NetworkBehaviour.OnClientReceivePacket</a> callbacks:</p>
<div class="language-csharp highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-5-1"><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">PlayerController</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">NetworkBehaviour</span>
</span><span id="__span-5-2"><span class="p">{</span>
</span><span id="__span-5-3"><span class="w">    </span><span class="c1">//Server received the packet, check the ownership (optional) then broadcasts it to everyone else than the origin client</span>
</span><span id="__span-5-4"><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">OnServerReceivePacket</span><span class="p">(</span><span class="n">IOwnedPacket</span><span class="w"> </span><span class="n">packet</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">clientId</span><span class="p">)</span>
</span><span id="__span-5-5"><span class="w">    </span><span class="p">{</span>
</span><span id="__span-5-6"><span class="w">        </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">packet</span><span class="p">)</span>
</span><span id="__span-5-7"><span class="w">        </span><span class="p">{</span>
</span><span id="__span-5-8"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="n">PacketBodyRotation</span><span class="w"> </span><span class="n">data</span><span class="p">:</span>
</span><span id="__span-5-9"><span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="n">clientId</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">OwnerId</span><span class="p">)</span>
</span><span id="__span-5-10"><span class="w">                    </span><span class="n">ServerBroadcastPacketExceptFor</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">clientId</span><span class="p">);</span>
</span><span id="__span-5-11"><span class="w">                </span><span class="k">break</span><span class="p">;</span>
</span><span id="__span-5-12"><span class="w">        </span><span class="p">}</span>
</span><span id="__span-5-13"><span class="w">    </span><span class="p">}</span>
</span><span id="__span-5-14">
</span><span id="__span-5-15">
</span><span id="__span-5-16"><span class="w">    </span><span class="c1">//Client received the packet, then applied it to the transform itself</span>
</span><span id="__span-5-17"><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">OnClientReceivePacket</span><span class="p">(</span><span class="n">IOwnedPacket</span><span class="w"> </span><span class="n">packet</span><span class="p">)</span>
</span><span id="__span-5-18"><span class="w">    </span><span class="p">{</span>
</span><span id="__span-5-19"><span class="w">        </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">packet</span><span class="p">)</span>
</span><span id="__span-5-20"><span class="w">        </span><span class="p">{</span>
</span><span id="__span-5-21"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="n">PacketBodyRotation</span><span class="w"> </span><span class="n">bodyRot</span><span class="p">:</span>
</span><span id="__span-5-22"><span class="w">                </span><span class="n">transform</span><span class="p">.</span><span class="n">eulerAngles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Vector3</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">bodyRot</span><span class="p">.</span><span class="n">BodyRotation</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">);</span>
</span><span id="__span-5-23"><span class="w">                </span><span class="k">break</span><span class="p">;</span>
</span><span id="__span-5-24"><span class="w">        </span><span class="p">}</span>
</span><span id="__span-5-25"><span class="w">    </span><span class="p">}</span>
</span><span id="__span-5-26"><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only the object with the <a class="api-docs">IOwnedPacket.Id</a> will receive the callbacks, so you don't need to worry about checking the id manually!</p>
</div>
<h3 id="receiving-not-owned">Receiving Not Owned</h3>
<p>If a packet is not owned, you can register a custom listener for it anywhere in the project. In the example below, the Lever class is listening for PlayerPunchActionPacket, which is a packet sent by the PlayerController class:</p>
<div class="language-csharp highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-6-1"><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">Lever</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">NetworkBehaviour</span>
</span><span id="__span-6-2"><span class="p">{</span>
</span><span id="__span-6-3"><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">BoolNetworkValue</span><span class="w"> </span><span class="n">isOn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>
</span><span id="__span-6-4"><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">radius</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2f</span><span class="p">;</span>
</span><span id="__span-6-5">
</span><span id="__span-6-6"><span class="w">    </span><span class="k">private</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">OnEnable</span><span class="p">()</span>
</span><span id="__span-6-7"><span class="w">    </span><span class="p">{</span>
</span><span id="__span-6-8"><span class="w">        </span><span class="n">WithValues</span><span class="p">(</span><span class="n">isOn</span><span class="p">);</span>
</span><span id="__span-6-9"><span class="w">        </span><span class="n">GetPacketListener</span><span class="o">&lt;</span><span class="n">PlayerPunchActionPacket</span><span class="o">&gt;</span><span class="p">().</span><span class="n">OnServerReceive</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">OnPlayerPunch</span><span class="p">;</span>
</span><span id="__span-6-10"><span class="w">        </span><span class="c1">//GetPacketListener&lt;PlayerPunchActionPacket&gt;().OnClientReceive ...;</span>
</span><span id="__span-6-11"><span class="w">    </span><span class="p">}</span>
</span><span id="__span-6-12">
</span><span id="__span-6-13"><span class="w">    </span><span class="k">private</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">OnDisable</span><span class="p">()</span>
</span><span id="__span-6-14"><span class="w">    </span><span class="p">{</span>
</span><span id="__span-6-15"><span class="w">        </span><span class="n">GetPacketListener</span><span class="o">&lt;</span><span class="n">PlayerPunchActionPacket</span><span class="o">&gt;</span><span class="p">().</span><span class="n">OnServerReceive</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">OnPlayerPunch</span><span class="p">;</span>
</span><span id="__span-6-16"><span class="w">    </span><span class="p">}</span>
</span><span id="__span-6-17">
</span><span id="__span-6-18"><span class="w">    </span><span class="k">private</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">OnPlayerPunch</span><span class="p">(</span><span class="n">PlayerPunchActionPacket</span><span class="w"> </span><span class="n">obj</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">client</span><span class="p">)</span>
</span><span id="__span-6-19"><span class="w">    </span><span class="p">{</span>
</span><span id="__span-6-20"><span class="w">        </span><span class="kt">var</span><span class="w"> </span><span class="n">o</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GetNetworkObject</span><span class="p">(</span><span class="n">obj</span><span class="p">.</span><span class="n">Id</span><span class="p">);</span>
</span><span id="__span-6-21"><span class="w">        </span><span class="kt">var</span><span class="w"> </span><span class="n">dist</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Vector3</span><span class="p">.</span><span class="n">Distance</span><span class="p">(</span><span class="n">o</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="n">transform</span><span class="p">.</span><span class="n">position</span><span class="p">);</span>
</span><span id="__span-6-22">
</span><span id="__span-6-23"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dist</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">radius</span><span class="p">)</span>
</span><span id="__span-6-24"><span class="w">            </span><span class="k">return</span><span class="p">;</span>
</span><span id="__span-6-25">
</span><span id="__span-6-26"><span class="w">        </span><span class="n">isOn</span><span class="p">.</span><span class="n">Value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="n">isOn</span><span class="p">.</span><span class="n">Value</span><span class="p">;</span>
</span><span id="__span-6-27"><span class="w">    </span><span class="p">}</span>
</span><span id="__span-6-28"><span class="p">}</span>
</span><span id="__span-6-29">
</span><span id="__span-6-30"><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">PlayerController</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">NetworkBehaviour</span>
</span><span id="__span-6-31"><span class="p">{</span>
</span><span id="__span-6-32"><span class="w">    </span><span class="k">private</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Update</span><span class="p">()</span>
</span><span id="__span-6-33"><span class="w">    </span><span class="p">{</span>
</span><span id="__span-6-34"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">HasAuthority</span><span class="p">)</span>
</span><span id="__span-6-35"><span class="w">            </span><span class="k">return</span><span class="p">;</span>
</span><span id="__span-6-36">
</span><span id="__span-6-37"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="n">GetKeyDown</span><span class="p">(</span><span class="n">KeyCode</span><span class="p">.</span><span class="n">Q</span><span class="p">))</span>
</span><span id="__span-6-38"><span class="w">        </span><span class="p">{</span>
</span><span id="__span-6-39"><span class="w">            </span><span class="n">SendPacket</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PlayerPunchActionPacket</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Id</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="k">true</span><span class="p">);</span>
</span><span id="__span-6-40"><span class="w">        </span><span class="p">}</span>
</span><span id="__span-6-41"><span class="w">    </span><span class="p">}</span>
</span><span id="__span-6-42"><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<h3 id="packet-reliability">Packet Reliability</h3>
<p>When you use any of the packet sending methods, you can set the reliability argument. When set to true, the delivery method is reliable, supporting larger packets at the cost of being slightly slower. When set to false, there's no reliability, packets are limited to small sizes, but delivery is extremely fast!</p>
<p>Synchronization of <a class="api-docs">NetworkValue</a> and any other important/instantaneous actions are done using reliable delivery because they need to be guaranteed. <a class="api-docs">NetworkTransform</a>, on the other hand, doesn't use reliable delivery because its state is updated almost constantly, so losing some packets probably won't cause issues.</p>
<p>Packet loss can be seen using the <a class="api-docs">NetworkManagerGUI</a>. If the network connection quality is good, you might not lose any packets, but if you have network issues, you might experience some packet loss. Choose wisely when reliability is needed or not. Most of the time, it's better to use reliable=true.</p>
<table>
<thead>
<tr>
<th></th>
<th>Unreliable</th>
<th>Reliable</th>
</tr>
</thead>
<tbody>
<tr>
<td>Speed</td>
<td>Fast+</td>
<td>Fast</td>
</tr>
<tr>
<td>Max Size</td>
<td>Small</td>
<td>Large</td>
</tr>
<tr>
<td>Order</td>
<td>Can be unordered</td>
<td>Order will be maintained</td>
</tr>
<tr>
<td>Loss</td>
<td>Can be lost</td>
<td>If lost, they will be resent</td>
</tr>
<tr>
<td>Example Usage</td>
<td>NetworkTransform, high-frequency update packets</td>
<td>Actions, NetworkValues, etc...</td>
</tr>
</tbody>
</table>
<h2 id="network-callbacks">Network Callbacks</h2>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>See the API reference of the <a class="api-docs">NetworkBehaviour</a> class for the list of all properties and methods.</p>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.select", "content.code.copy"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.3220b9d7.min.js"></script>
      
        <script src="../js/auto_link.js"></script>
      
    
  </body>
</html>